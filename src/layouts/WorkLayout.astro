---
import BaseLayout from "./BaseLayout.astro";
import Header from "../components/Header.astro";
import SectionHeader from "../components/SectionHeader.astro";
import ProjectCard from "../components/ProjectCard.astro";
import Footer from "../components/Footer.astro";

interface SeeAlsoItem {
  href: string;
  title: string;
  role: string;
  imageUrl: string;
}

interface Props {
  title: string;
  role: string;
  heroImage: string;
  heroImageAlt?: string;
  seeAlso?: SeeAlsoItem[];
}

const site = {
  name: "Jane Doe",
  role: "Creative technologist",
  company: "Acme Labs",
  email: "jane@example.com",
};

const { title, role, heroImage, heroImageAlt = title, seeAlso = [] } =
  Astro.props;
---

<BaseLayout title={`${title} Â· ${site.name}`}>
  <Header
    name={site.name}
    role={site.role}
    company={site.company}
    email={site.email}
    activePage="work"
  />

  <main>
    <!-- Hero -->
    <section class="work-hero">
      <h1 class="mb-3">{title}</h1>
      <p class="color-fg-muted work-role">{role}</p>
    </section>

    <!-- Hero image -->
    <figure class="work-hero-image rounded">
      <img
        src={heroImage}
        alt={heroImageAlt}
        class="bg-subtle"
        width="1110"
        height="773"
        loading="eager"
      />
    </figure>

    <!-- Brief -->
    <section>
      <SectionHeader id="brief" title="Brief" />
      <slot name="brief" />
    </section>

    <!-- Overview -->
    <section>
      <SectionHeader id="overview" title="Overview" />
      <slot name="overview" />
    </section>

    <!-- Gallery -->
    <section class="work-gallery">
      <slot name="gallery" />
    </section>

    <!-- See Also -->
    {
      seeAlso.length > 0 && (
        <section>
          <SectionHeader id="see-also" title="See also" />
          <div class="content-grid -equal">
            {seeAlso.map((item) => (
              <ProjectCard
                href={item.href}
                title={item.title}
                role={item.role}
                imageUrl={item.imageUrl}
              />
            ))}
          </div>
        </section>
      )
    }
  </main>

  <Footer email={site.email} />
</BaseLayout>
